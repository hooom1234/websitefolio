---
import SocialIcons from "../../commons/socialIcons/socialIcons.jsx";
import TypeEfect from "../header/typeEfect.jsx";
---

<header class="relative h-screen bg-[#0b1121] overflow-hidden flex items-center justify-center">
  
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="absolute inset-0 opacity-20 animate-grid-move bg-grid-pattern"></div>
    <div class="absolute top-0 left-1/4 w-96 h-96 bg-blue-600/20 rounded-full blur-[128px] mix-blend-screen animate-pulse-slow"></div>
    <div class="absolute bottom-0 right-1/4 w-96 h-96 bg-sky-500/20 rounded-full blur-[128px] mix-blend-screen animate-pulse-slow delay-1000"></div>
    <div class="absolute inset-0 bg-[radial-gradient(transparent_0%,#0b1121_100%)]"></div>
  </div>

  <div class="container mx-auto px-6 md:px-12 relative z-10">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
      
      <main class="flex flex-col items-start text-left space-y-6 order-2 lg:order-1 reveal-element">
        <h1 class="text-5xl md:text-7xl font-bold text-white text-shadow leading-tight">
          Hello <span class="text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-sky-600">World!</span>
        </h1>

        <div class="text-xl md:text-3xl font-medium text-slate-300 h-8">
             <TypeEfect client:visible />
        </div>

        <p class="text-base md:text-lg text-slate-400 max-w-lg font-light leading-relaxed">
          I'm Tawan Pingma, a student with a passion for coding. <br>My main focus is on Capture The Flag and Web Application development.
        </p>
        
        <div class="flex flex-col sm:flex-row items-start gap-4 pt-4">
           <div class="flex items-center">
             <SocialIcons client:visible />
           </div>
           
           <a
            target="_blank"
            href="https://drive.google.com/file/d/1niMcETuB8IlxXMlO0Uk7gJbdVgLqxyTO/view?usp=sharing"
            class="px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-500 hover:to-indigo-600 
            text-white font-semibold rounded-full transition-all duration-300 shadow-lg shadow-blue-500/30
            hover:shadow-blue-500/50 hover:-translate-y-1"
          >
            Download Resume
          </a>
        </div>
      </main>

      <div class="relative flex justify-center items-center order-1 lg:order-2 reveal-element delay-200">
        <div class="absolute inset-0 bg-gradient-to-tr from-sky-500/10 to-blue-500/10 rounded-full blur-3xl animate-blob"></div>
        
        <div class="relative w-full max-w-md bg-slate-900/50 backdrop-blur-xl border border-sky-500/20 rounded-2xl p-6 shadow-2xl animate-float transform transition-transform hover:scale-105 duration-500">
          <div class="flex items-center gap-2 mb-4 border-b border-white/5 pb-4">
            <div class="w-3 h-3 rounded-full bg-red-500/80"></div>
            <div class="w-3 h-3 rounded-full bg-amber-500/80"></div>
            <div class="w-3 h-3 rounded-full bg-emerald-500/80"></div> 
            <div class="ml-auto text-xs text-slate-500 font-mono">portfolio.js</div>
          </div>
          
          <div class="space-y-3 font-mono text-sm">
            <div class="flex">
              <span class="text-slate-600 w-6 select-none">1</span>
              <span class="text-blue-400">const</span> <span class="text-sky-200 ml-2">developer</span> <span class="text-white">=</span> <span class="text-amber-300">"Tawan Pingma"</span>;
            </div>
            <div class="flex">
              <span class="text-slate-600 w-6 select-none">2</span>
              <span class="text-blue-400">let</span> <span class="text-sky-200 ml-2">skills</span> <span class="text-white">=</span> <span class="text-white">[</span>
            </div>
            <div class="flex pl-6">
              <span class="text-orange-300">"Coding"</span><span class="text-white">,</span> 
              <span class="text-orange-300 ml-2">"Web Dev"</span><span class="text-white">,</span>
              <span class="text-orange-300 ml-2">"Security"</span>
            </div>
            <div class="flex">
              <span class="text-slate-600 w-6 select-none">4</span>
              <span class="text-white">];</span>
            </div>
            <div class="flex">
              <span class="text-slate-600 w-6 select-none">5</span>
              <span class="text-slate-500">// Welcome to my world!</span>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div id="scroll-indicator" class="absolute bottom-8 left-1/2 transform -translate-x-1/2 flex flex-col items-center gap-2 transition-all duration-500 z-20">
    <span class="text-[10px] text-slate-500 font-mono tracking-[0.2em] uppercase opacity-70">Scroll Down For more</span>
    <div class="w-6 h-10 border-2 border-slate-600 rounded-full flex justify-center p-1">
      <div class="w-1.5 h-1.5 bg-sky-400 rounded-full animate-bounce"></div>
    </div>
  </div>

</header>

<style>
  /* --- Grid Pattern สีฟ้าอ่อน --- */
  .bg-grid-pattern {
    background-size: 40px 40px;
    background-image: 
      linear-gradient(to right, rgba(56, 189, 248, 0.05) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(56, 189, 248, 0.05) 1px, transparent 1px);
    mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
    -webkit-mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
  }

  @keyframes grid-move {
    0% { background-position: 0 0; }
    100% { background-position: 40px 40px; }
  }
  .animate-grid-move {
    animation: grid-move 3s linear infinite;
  }

  @keyframes pulse-slow {
    0%, 100% { opacity: 0.2; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(1.1); }
  }
  .animate-pulse-slow {
    animation: pulse-slow 8s infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
  }
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  .reveal-element {
    opacity: 0;
    transform: translateY(30px);
    transition: all 1s ease-out;
  }
  .reveal-element.active {
    opacity: 1;
    transform: translateY(0);
  }
  .delay-200 { transition-delay: 200ms; }
  .delay-1000 { animation-delay: 1000ms; }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // 1. Reveal Animation Observer
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('active');
      });
    }, { threshold: 0.1 });
    document.querySelectorAll('.reveal-element').forEach((el) => observer.observe(el));

    // 2. [NEW] Scroll Indicator Logic
    const scrollIndicator = document.getElementById('scroll-indicator');
    
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        // เมื่อเลื่อนลงเกิน 50px: ซ่อนและเลื่อนลง
        scrollIndicator.classList.add('opacity-0', 'translate-y-4');
        scrollIndicator.classList.remove('opacity-100', 'translate-y-0');
      } else {
        // เมื่ออยู่ด้านบน: แสดงผลปกติ
        scrollIndicator.classList.remove('opacity-0', 'translate-y-4');
        scrollIndicator.classList.add('opacity-100', 'translate-y-0');
      }
    });
  });
</script>
